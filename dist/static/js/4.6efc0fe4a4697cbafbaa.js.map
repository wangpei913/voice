{"version":3,"sources":["webpack:///src/page/Echarts.vue","webpack:///./src/page/Echarts.vue?7e73","webpack:///./src/page/Echarts.vue"],"names":["Echarts","data","loading","options","value","provinces","北京","天津","上海","重庆","河北","山西","辽宁","吉林","黑龙江","江苏","浙江","安徽","福建","江西","山东","河南","湖北","湖南","广东","海南","四川","贵州","云南","陕西","甘肃","青海","新疆","广西","内蒙古","宁夏","西藏","香港","澳门","option","backgroundColor","title","text","subtext","left","textStyle","color","fontSize","fontWeight","fontFamily","tooltip","trigger","formatter","toolbox","show","orient","top","iconStyle","normal","animationDuration","animationEasing","animationDurationUpdate","special","mapdata","mounted","_this","this","$nextTick","getCityOptions","methods","i","push","label","getProvince","n","_this2","Object","demo","then","res","status","d","features","length","name","properties","echarts","registerMap","renderMap","$message","error","catch","err","console","log","map","chart","init","document","getElementById","formatCityName","series","type","mapType","roam","nameMap","china","emphasis","itemStyle","areaColor","borderColor","window","onresize","resize","setOption","_that","on","params","seriesName","indexOf","city","watch","newval","oldval","page_Echarts","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","filterable","placeholder","model","callback","$$v","expression","_l","item","key","_v","id","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.6efc0fe4a4697cbafbaa.js","sourcesContent":["<template>\n    <div class=\"echarts-views\">\n        <div class=\"echarts-header\">\n            <el-select v-model=\"value\" filterable placeholder=\"请选择\">\n                <el-option\n                v-for=\"item in options\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\">\n                </el-option>\n            </el-select>\n        </div>\n        <div class=\"echarts-main\" id=\"echartsMain\"></div>\n    </div>\n</template>\n<script>\nimport {city, county} from '../api/demo.js';\nexport default {\n    data () {\n        return {\n            loading: false,\n            options: [],\n            value: '',\n            provinces: {\n                // '全国': 'china',\n                //4个直辖市\n                \"北京\": \"beijing\",\n                \"天津\": \"tianjin\",\n                \"上海\": \"shanghai\",\n                \"重庆\": \"chongqing\",\n                //22个省\n                \"河北\": \"hebei\",\n                \"山西\": \"shanxi\",\n                \"辽宁\": \"liaoning\",\n                \"吉林\": \"jilin\",\n                \"黑龙江\": \"heilongjiang\",\n                \"江苏\": \"jiangsu\",\n                \"浙江\": \"zhejiang\",\n                \"安徽\": \"anhui\",\n                \"福建\": \"fujian\",\n                \"江西\": \"jiangxi\",\n                \"山东\": \"shandong\",\n                \"河南\": \"henan\",\n                \"湖北\": \"hubei\",\n                \"湖南\": \"hunan\",\n                \"广东\": \"guangdong\",\n                \"海南\": \"hainan\",\n                \"四川\": \"sichuan\",\n                \"贵州\": \"guizhou\",\n                \"云南\": \"yunnan\",\n                \"陕西\": \"shanxi1\",\n                \"甘肃\": \"gansu\",\n                \"青海\": \"qinghai\",\n                //5个自治区\n                \"新疆\": \"xinjiang\",\n                \"广西\": \"guangxi\",\n                \"内蒙古\": \"neimenggu\",\n                \"宁夏\": \"ningxia\",\n                \"西藏\": \"xizang\",\n                //3个特别行政区\n                \"香港\": \"xianggang\",\n                \"澳门\": \"aomen\"\n            },\n            option: {\n                backgroundColor: '#404a59',\n                title : {\n                    text: '中国地图',\n                    subtext: '省市区三级下钻',\n                    left: 'center',\n                    textStyle:{\n                        color: '#fff',\n                        fontSize:16,\n                        fontWeight:'normal',\n                        fontFamily:\"Microsoft YaHei\"\n                    }\n                },\n                tooltip: {\n                    trigger: 'item',\n                    formatter: '{b}'\n                },\n                toolbox: {\n                    show: true,\n                    orient: 'vertical',\n                    left: 'right',\n                    top: 'center',\n                    iconStyle:{\n                        normal:{\n                            color:'#fff'\n                        }\n                    }\n                },\n                animationDuration: 1000,\n                animationEasing: 'cubicOut',\n                animationDurationUpdate: 1000\n            },\n            special: ['北京', '天津', '上海', '重庆', '香港', '澳门'],\n            mapdata: []\n        }\n    },\n    mounted () {\n        this.$nextTick(() => {\n            this.getCityOptions();\n        })\n    },\n    methods: {\n        getCityOptions () {\n            this.options = [];\n            for (let i in this.provinces) {\n                this.options.push({\n                    label: i,\n                    value: this.provinces[i]\n                })\n            }\n            this.value = this.options[0].value;\n            this.getProvince(this.value);\n        },\n        getProvince (n) {\n            this.loading = true;\n            city(n).then(res => {\n                if (res.status === 200) {\n                    this.loading = false;\n                    let d = [];\n                    for( let i = 0; i < res.data.features.length; i++ ){\n                        d.push({\n                            name: res.data.features[i].properties.name\n                        })\n                    }\n                    this.mapdata = d;\n                    this.echarts.registerMap(n, res.data);\n                    this.renderMap(n, d);\n                } else {\n                    this.$message.error('错了哦，该地区不存在!');\n                }\n            }).catch(err => {\n                console.log(err);\n                this.loading = false;\n            })\n        },\n        renderMap (map, data) {\n            let chart = this.echarts.init(document.getElementById('echartsMain'))\n            this.option.title.subtext = this.formatCityName(map);\n            this.option.series = [ \n                {\n                    name: map,\n                    type: 'map',\n                    mapType: map,\n                    roam: false,\n                    nameMap: {\n                        'china':'中国'\n                    },\n                    label: {\n                        normal: {\n                            show: true,\n                            textStyle:{\n                                color: '#fff',\n                                fontSize: 13\n                            }  \n                        },\n                        emphasis: {\n                            show: true,\n                            textStyle: {\n                                color: '#fff',\n                                fontSize: 13\n                            }\n                        }\n                    },\n                    itemStyle: {\n                        normal: {\n                            areaColor: '#323c48',\n                            borderColor: 'rgba(147, 235, 248, 1)'\n                        },\n                        emphasis: {\n                            areaColor: 'skyblue'\n                        }\n                    },\n                    data:data\n                }\t\n            ];\n            window.onresize = chart.resize;\n            //渲染地图\n            chart.setOption(this.option);\n            let _that = this;\n            chart.on('click', function (params) {\n                if (_that.formatCityName(params.seriesName) in _that.provinces) {\n                    if (_that.special.indexOf((_that.value)) >= 0) {\n                        _that.renderMap(_that.value, _that.mapdata);\n                    } else {\n                        _that.loading = true;\n                        county (params.name).then(res => {\n                            if (res.status === 200) {\n                                _that.loading = false;\n                                _that.echarts.registerMap(params.name, res.data);\n                                let d = [];\n                                for (let i = 0; i < res.data.features.length; i++){\n                                    d.push({\n                                        name: res.data.features[i].properties.name\n                                    })\n                                }\n                                _that.renderMap(params.name, d);\n                            }\n                        }).catch(err => {\n                            console.log(err);\n                            _that.loading = false;\n                        })\n                    }\n                } else {\n                    _that.getProvince(_that.value);\n                }\n            })\n        },\n        formatCityName (n) {\n            let city = null;\n            for (let i in this.provinces) {\n                if (n === this.provinces[i]) {\n                    city = i\n                }\n            }\n            return city;\n        }\n    },\n    watch: {\n        value (newval, oldval) {\n            if (!oldval) return\n            if (newval !== oldval) {\n                this.getProvince(newval);\n            }\n        }\n    }\n}\n</script>\n<style lang=\"less\" scoped>\n.echarts-views{\n    width: 100%;\n    height: 100%;\n    position: relative;\n    .echarts-header{\n        line-height: 40px;\n        height: 40px;\n    }\n    .echarts-main{\n        width: 100%;\n        height: calc(~'100% - 40px');\n    }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/Echarts.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"echarts-views\"},[_c('div',{staticClass:\"echarts-header\"},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"echarts-main\",attrs:{\"id\":\"echartsMain\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1b24a6d0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/Echarts.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1b24a6d0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Echarts.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Echarts.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Echarts.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b24a6d0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Echarts.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1b24a6d0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/Echarts.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}