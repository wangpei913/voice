webpackJsonp([0],{"8nrZ":function(t,e){},BQu8:function(t,e){},KrTD:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("KfJw"),n=a("jFbs"),i={data:function(){return{icon:"iconfont icon-maikefeng",restaurants:[],state3:"",dialogTableVisible:!1,recorder:"",animateShow:!1,timer:null,times:0,voiceInfo:"请说话",mikeFlag:!1,allList:[{value:"中国平安保险（集团）股份有限公司",info:"中国平安保险（集团）股份有限公司（以下简称“中国平安” ，“平安”，“公司”，“集团”）于1988年诞生于深圳蛇口，是中国第一家股份制保险企业，至今已经发展成为金融保险、银行、投资等金融业务为一体的整合、紧密、多元的综合金融服务集团。2017年6月，《2017年BrandZ最具价值全球品牌100强》公布，中国平安排名第61位;7月31日，《财富》中国500强排行榜发布，中国平安保险（集团）股份有限公司排名第五。2018年9月，中国平安保险（集团）股份有限公司在2017中国企业500强中，排名第六，距2017年又上升了两位。2018年《财富》世界500强排行榜第29名。"},{value:"中国平安科技",info:"在数字智联时代，企业需要朝敏捷创新型组织转型，转型过程涉及到研发组织、研发体系、研发方法、创新机制、创新方法的变革和实施。平安科技敏捷研发专家服务，立足于平安集团10年研发管理和敏捷教练服务经验，融合行业优秀敏捷与创新实践，帮助目标组织提升研发创新精准度、提升研发过程效率、提升企业IT研发的业务价值，帮助客户方朝敏捷创新型组织转型，从而让：敏捷转型变简单、业务价值变明显。"}],searchShow:!1,noDataShow:!1,voiceWords:"",voiceSrc:"",routeList:[],showPlayBtn:!1,controlBtn:!1}},watch:{state3:function(t){var e=this;t?(this.restaurants=[],this.allList.forEach(function(a,o){-1!==a.value.indexOf(t)?(e.restaurants.push(a),e.noDataShow=!1):(e.noDataShow=!0,setTimeout(function(){e.noDataShow=!1},100))})):this.searchShow=!1}},mounted:function(){},methods:{getNowFormatDate:function(){var t=new Date,e=t.getMonth()+1,a=t.getDate();return e>=1&&e<=9&&(e="0"+e),a>=0&&a<=9&&(a="0"+a),t.getFullYear()+"-"+e+"-"+a+" "+(t.getHours()>9?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes())+":"+(t.getSeconds()>9?t.getSeconds():"0"+t.getSeconds())},mikeClick:function(){this.animateShow=!0,this.handleIconClick()},fristLoading:function(){this.animateShow=!0;var t=this;HZRecorder.get(function(e){t.recorder=e,t.recorder.start()})},handleIconClick:function(){this.dialogTableVisible=!0,this.fristLoading()},stopRecord:function(){var t=this;t.recorder.stop(),t.animateShow=!1;var e=new FormData;e.append("audioData",t.recorder.getBlob()),Object(n.a)(e).then(function(e){if(!0===e.data.success)e.data.data.words&&!e.data.data.menu?(t.state3=e.data.data.words.substr(0,e.data.data.words.length-1),t.searchShow=!0):e.data.data.menu&&(window.sessionStorage.setItem("state",!0),t.$router.push({name:e.data.data.menu})),t.dialogTableVisible=!1;else{t.state3="识别失败，请点击中间麦克风按钮后再说一次"}})},closeDialog:function(){this.dialogTableVisible=!1,this.animateShow=!1;this.recorder.stop()},clickSearchList:function(t){this.voiceWords=t.info,this.state3=t.value,this.searchShow=!1,this.broadCastWords(t.info)},broadCastWords:function(t){var e=this,a={words:t};Object(n.b)(a).then(function(t){e.voiceSrc=t.data,e.showPlayBtn=!0,e.controlBtn=!0}).catch(function(t){console.log(t)})},suspendPlay:function(){this.controlBtn=!this.controlBtn;var t=document.getElementById("player");!1===this.controlBtn?t.pause():t.play()}},beforeDestroy:function(){this.dialogTableVisible=!1}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"voice-demo"},[t.dialogTableVisible?a("div",{staticClass:"sound-record-com"},[a("p",{staticClass:"close-btn",on:{click:t.closeDialog}},[t._v("X")]),t._v(" "),a("div",{staticClass:"mic-box"},[a("div",{staticClass:"frist-mic",on:{click:function(e){t.mikeClick()&&t.mikeFlag}}},[t.animateShow?a("div",{staticClass:"line-div"},[a("span",{staticClass:"line1"})]):t._e()]),t._v(" "),t.animateShow?a("div",{staticClass:"frist-circle"}):t._e(),t._v(" "),t.animateShow?a("div",{staticClass:"second-circle"}):t._e()]),t._v(" "),a("p",{staticClass:"stop-btn"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.stopRecord()}}},[t._v("停止录音")])],1)]):t._e(),t._v(" "),a("ul",{staticClass:"voice-demo-header"},[a("li",[a("el-input",{model:{value:t.state3,callback:function(e){t.state3=e},expression:"state3"}},[a("i",{staticClass:"iconfont icon-maikefeng",attrs:{slot:"suffix"},on:{click:t.handleIconClick},slot:"suffix"})]),t._v(" "),t.searchShow?a("ul",{staticClass:"search-list"},[t._l(t.restaurants,function(e,o){return a("li",{key:o,staticClass:"search-list-lis",on:{click:function(a){t.clickSearchList(e)}}},[t._v(t._s(e.value))])}),t._v(" "),t.noDataShow?a("li",{staticClass:"no-info"},[t._v("暂无该词条！")]):t._e()],2):t._e()],1),t._v(" "),a("li",[t.showPlayBtn?a("audio",{ref:"audio",staticClass:"audio-parts",attrs:{src:t.voiceSrc,controls:"",autoplay:"",width:"100%"}}):t._e()])]),t._v(" "),a("div",{staticClass:"voice-demo-content",domProps:{textContent:t._s(t.voiceWords)}})])},staticRenderFns:[]};var c=a("VU/8")(i,s,!1,function(t){a("k/uC")},"data-v-eb6f2b16",null).exports,r={data:function(){return{icon:"iconfont icon-maikefeng",restaurants:[],state3:"",dialogTableVisible:!1,recorder:"",animateShow:!1,timer:null,times:0,voiceInfo:"请说话",mikeFlag:!1,allList:[{value:"中国平安保险（集团）股份有限公司",info:"中国平安保险（集团）股份有限公司（以下简称“中国平安” ，“平安”，“公司”，“集团”）于1988年诞生于深圳蛇口，是中国第一家股份制保险企业，至今已经发展成为金融保险、银行、投资等金融业务为一体的整合、紧密、多元的综合金融服务集团。2017年6月，《2017年BrandZ最具价值全球品牌100强》公布，中国平安排名第61位;7月31日，《财富》中国500强排行榜发布，中国平安保险（集团）股份有限公司排名第五。2018年9月，中国平安保险（集团）股份有限公司在2017中国企业500强中，排名第六，距2017年又上升了两位。2018年《财富》世界500强排行榜第29名。"},{value:"中国平安科技",info:"在数字智联时代，企业需要朝敏捷创新型组织转型，转型过程涉及到研发组织、研发体系、研发方法、创新机制、创新方法的变革和实施。平安科技敏捷研发专家服务，立足于平安集团10年研发管理和敏捷教练服务经验，融合行业优秀敏捷与创新实践，帮助目标组织提升研发创新精准度、提升研发过程效率、提升企业IT研发的业务价值，帮助客户方朝敏捷创新型组织转型，从而让：敏捷转型变简单、业务价值变明显。"}],searchShow:!1,noDataShow:!1,voiceWords:"",voiceSrc:"",routeList:[],showPlayBtn:!1,controlBtn:!1}},watch:{state3:function(t){var e=this;t?(this.restaurants=[],this.allList.forEach(function(a,o){-1!==a.value.indexOf(t)?(e.restaurants.push(a),e.noDataShow=!1):(e.noDataShow=!0,setTimeout(function(){e.noDataShow=!1},100))})):this.searchShow=!1}},methods:{getNowFormatDate:function(){var t=new Date,e=t.getMonth()+1,a=t.getDate();return e>=1&&e<=9&&(e="0"+e),a>=0&&a<=9&&(a="0"+a),t.getFullYear()+"-"+e+"-"+a+" "+(t.getHours()>9?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes())+":"+(t.getSeconds()>9?t.getSeconds():"0"+t.getSeconds())},mikeClick:function(){this.animateShow=!0,this.handleIconClick()},fristLoading:function(){this.animateShow=!0;var t=this;HZRecorder.get(function(e){t.recorder=e,t.recorder.start()})},handleIconClick:function(){this.dialogTableVisible=!0,this.fristLoading()},stopRecord:function(){var t=this;t.recorder.stop(),t.animateShow=!1;var e=new FormData;e.append("audioData",t.recorder.getBlob()),Object(n.d)(e).then(function(e){if(console.log(e.data,"res"),!0===e.data.success)e.data.data.words&&!e.data.data.menu?(t.state3=e.data.data.words.substr(0,e.data.data.words.length-1),t.searchShow=!0):e.data.data.menu&&(window.sessionStorage.setItem("state",!0),t.$router.push({name:e.data.data.menu})),t.dialogTableVisible=!1;else{t.state3="识别失败，请点击中间麦克风按钮后再说一次"}})},closeDialog:function(){this.dialogTableVisible=!1,this.animateShow=!1;this.recorder.stop()},clickSearchList:function(t){this.voiceWords=t.info,this.state3=t.value,this.searchShow=!1,this.broadCastWords(t.info)},broadCastWords:function(t){var e=this,a={words:t};Object(n.c)(a).then(function(t){e.voiceSrc=t.data,e.showPlayBtn=!0,e.controlBtn=!0}).catch(function(t){console.log(t)})},suspendPlay:function(){this.controlBtn=!this.controlBtn;var t=document.getElementById("player");!1===this.controlBtn?t.pause():t.play()}},beforeDestroy:function(){this.dialogTableVisible=!1}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xunfei-demo"},[t.dialogTableVisible?a("div",{staticClass:"sound-record-com"},[a("p",{staticClass:"close-btn",on:{click:t.closeDialog}},[t._v("X")]),t._v(" "),a("div",{staticClass:"mic-box"},[a("div",{staticClass:"frist-mic",on:{click:function(e){t.mikeClick()&&t.mikeFlag}}},[t.animateShow?a("div",{staticClass:"line-div"},[a("span",{staticClass:"line1"})]):t._e()]),t._v(" "),t.animateShow?a("span",{staticClass:"frist-circle"}):t._e(),t._v(" "),t.animateShow?a("span",{staticClass:"second-circle"}):t._e()]),t._v(" "),a("p",{staticClass:"stop-btn"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.stopRecord()}}},[t._v("停止录音")])],1)]):t._e(),t._v(" "),a("ul",{staticClass:"voice-demo-header"},[a("li",[a("el-input",{model:{value:t.state3,callback:function(e){t.state3=e},expression:"state3"}},[a("i",{staticClass:"iconfont icon-maikefeng",attrs:{slot:"suffix"},on:{click:t.handleIconClick},slot:"suffix"})]),t._v(" "),t.searchShow?a("ul",{staticClass:"search-list"},[t._l(t.restaurants,function(e,o){return a("li",{key:o,staticClass:"search-list-lis",on:{click:function(a){t.clickSearchList(e)}}},[t._v(t._s(e.value))])}),t._v(" "),t.noDataShow?a("li",{staticClass:"no-info"},[t._v("暂无该词条！")]):t._e()],2):t._e()],1),t._v(" "),a("li",[t.showPlayBtn?a("audio",{ref:"audio",staticClass:"audio-parts",attrs:{src:t.voiceSrc,controls:"",autoplay:"",width:"100%"}}):t._e()])]),t._v(" "),a("div",{staticClass:"voice-demo-content",domProps:{textContent:t._s(t.voiceWords)}})])},staticRenderFns:[]};var d=a("VU/8")(r,l,!1,function(t){a("mq+9")},"data-v-6215a06d",null).exports,u={data:function(){return{input:"",testSrc:""}},mounted:function(){var t=[1,2,3,3,2,1,!0,!0,{},{},void 0,void 0,null,null],e=this.getArrayNoRepeated(t);console.log(e,"res"),console.log(386485473.88.toLocaleString("en-US"))},methods:{testBaidu:function(){var t=this,e={words:this.input};Object(n.b)(e).then(function(e){t.testSrc=e.data}).catch(function(t){console.log(t)})},testXunfei:function(){var t=this,e={words:this.input};Object(n.c)(e).then(function(e){t.testSrc=e.data}).catch(function(t){console.log(t)})},getArrayNoRepeated:function(t){for(var e=[],a={},o=0;o<t.length;o++)a[t[o]]||(e.push(t[o]),a[t[o]]=1);return e}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"test-voice"},[a("ul",{staticClass:"test-voice-header"},[a("li",[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),t._v(" "),a("li",[a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.testBaidu()}}},[t._v("百度测试")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.testXunfei()}}},[t._v("讯飞测试")])],1)]),t._v(" "),a("audio",{ref:"audio",staticClass:"audio-parts",attrs:{controlsList:"nodownload",src:t.testSrc,controls:"",autoplay:"",width:"100%"}})])},staticRenderFns:[]};var f=a("VU/8")(u,h,!1,function(t){a("8nrZ")},"data-v-648dc794",null).exports,v=a("cmdl"),m={data:function(){return{loading:!1,voiceInput:"",showMic:!1,animate:!1,recorder:"",recTimer:null,times:0,recordInfo:"",restartState:!1,allList:[{value:"中国平安保险（集团）股份有限公司",info:"中国平安保险（集团）股份有限公司（以下简称“中国平安” ，“平安”，“公司”，“集团”）于1988年诞生于深圳蛇口，是中国第一家股份制保险企业，至今已经发展成为金融保险、银行、投资等金融业务为一体的整合、紧密、多元的综合金融服务集团。2017年6月，《2017年BrandZ最具价值全球品牌100强》公布，中国平安排名第61位;7月31日，《财富》中国500强排行榜发布，中国平安保险（集团）股份有限公司排名第五。2018年9月，中国平安保险（集团）股份有限公司在2017中国企业500强中，排名第六，距2017年又上升了两位。2018年《财富》世界500强排行榜第29名。"},{value:"中国平安科技",info:"在数字智联时代，企业需要朝敏捷创新型组织转型，转型过程涉及到研发组织、研发体系、研发方法、创新机制、创新方法的变革和实施。平安科技敏捷研发专家服务，立足于平安集团10年研发管理和敏捷教练服务经验，融合行业优秀敏捷与创新实践，帮助目标组织提升研发创新精准度、提升研发过程效率、提升企业IT研发的业务价值，帮助客户方朝敏捷创新型组织转型，从而让：敏捷转型变简单、业务价值变明显。"}],searchList:[],none:!1,searchShow:!1,words:"",voiceSrc:"",playerShow:!1,clickFlag:!0,Timer:null,flag:!1}},mounted:function(){},methods:{clickMic:function(){this.showMic=!this.showMic,this.animate=!this.animate,this.startRecord()},startRecord:function(){var t=this,e=[];t.recordInfo="录音中...",HZRecorder.get(function(e){t.recorder=e,t.recorder.start()}),o.a.start().then(function(a){t.recTimer=setInterval(function(){var n=o.a.getVoiceSize(a);if(20===e.length){var i=Math.max.apply(Math,e),s=Math.min.apply(Math,e),c=Object(v.a)(e);Object(v.c)(i,s)<2e3?(clearInterval(t.recTimer),t.recorder.stop(),t.animate=!1,t.recordInfo="继续录音请点击中间麦克风"):n<c?t.flag=!0:n>c&&(t.flag=!1)}else e.length<20&&e.push(n)},100),t.restartState=!0})},voiceToText:function(){var t=this,e=new FormData;e.append("audioData",t.recorder.getBlob()),Object(n.a)(e).then(function(e){if(!0===e.data.success)e.data.data.words&&!e.data.data.menu?(t.voiceInput=e.data.data.words.substr(0,e.data.data.words.length-1),t.searchShow=!0):e.data.data.menu&&(window.sessionStorage.setItem("state",!0),t.$router.push({name:e.data.data.menu})),t.animate=!1,t.recordInfo="继续录音请点击中间麦克风",t.flag=!1;else{t.animate=!1,t.recordInfo="识别失败，请点击中间麦克风按钮后再说一次"}t.restartState=!0}).catch(function(e){t.recordInfo="识别失败，请点击中间麦克风按钮后再说一次",console.log(e)})},restartRecord:function(){this.startRecord(),this.animate=!0},playVoice:function(t){this.voiceInput=t.value,this.words=t.info,this.searchShow=!1,this.none=!1,this.showMic=!1,this.callVoiceApi(t.info)},callVoiceApi:function(t){var e=this,a={words:t};this.loading=!0,Object(n.b)(a).then(function(t){e.loading=!1,e.voiceSrc=t.data,e.playerShow=!0}).catch(function(t){e.loading=!1,console.log(t)})},closeRecord:function(){this.showMic=!1}},watch:{voiceInput:function(t){var e=this;t?(this.searchList=[],this.allList.forEach(function(a,o){a.value.indexOf(t)>-1?(e.searchList.push(a),e.none=!1):e.none=!0})):(this.none=!1,this.searchShow=!1)},flag:function(t){var e=this;!0===t?this.Timer=setTimeout(function(){clearInterval(e.recTimer),e.recorder.stop(),e.recordInfo="发送中...",e.animate=!1,e.voiceToText()},1e3):clearInterval(this.Timer)}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"another-voice"},[a("transition",{attrs:{"enter-active-class":"zoomIn","leave-active-class":"zoomOut"}},[t.showMic?a("div",{staticClass:"down"},[t.showMic?a("p",{staticStyle:{width:"180px",float:"left","text-align":"center","line-height":"20px"},domProps:{textContent:t._s(t.recordInfo)}}):t._e(),t._v(" "),a("span",{staticClass:"close-btn",on:{click:function(e){t.closeRecord()}}},[t._v("X")]),t._v(" "),a("div",{staticClass:"dot",on:{click:function(e){t.restartState&&t.restartRecord()}}}),t._v(" "),t.animate?a("div",{staticClass:"pulse"}):t._e(),t._v(" "),t.animate?a("div",{staticClass:"pulse1"}):t._e()]):t._e()]),t._v(" "),a("div",{staticClass:"input-part"},[a("el-input",{model:{value:t.voiceInput,callback:function(e){t.voiceInput=e},expression:"voiceInput"}},[a("i",{staticClass:"iconfont icon-maikefeng",staticStyle:{"font-size":"24px","line-height":"42px"},attrs:{slot:"suffix"},on:{click:function(e){!t.showMic&&t.clickMic()}},slot:"suffix"})]),t._v(" "),t.searchShow?a("ul",{staticClass:"search-result"},t._l(t.searchList,function(e,o){return a("li",{key:o,on:{click:function(a){t.playVoice(e)}}},[t._v(t._s(e.value))])})):t._e(),t._v(" "),t.none?a("ul",{staticClass:"no-result"},[a("li",[t._v("暂无该词条，敬请期待!")])]):t._e()],1),t._v(" "),a("div",{staticClass:"audio-part"},[t.playerShow?a("audio",{ref:"audio",staticClass:"audio-parts",attrs:{controlsList:"nodownload",src:t.voiceSrc,controls:"",autoplay:"",width:"100%"}}):t._e()]),t._v(" "),a("div",{staticClass:"words-part",domProps:{textContent:t._s(t.words)}})],1)},staticRenderFns:[]};a("VU/8")(m,p,!1,function(t){a("NCHO")},"data-v-05d24c22",null).exports;var w={data:function(){return{awakenShow:!1,recTimer:null,flag:!1,Timer:null,awakeRecorder:"",soundRecoeder:"",soundTimer:null,recordInfo:""}},mounted:function(){this.startAwaken()},methods:{startAwaken:function(){var t=this,e=[];HZRecorder.get(function(e){t.awakeRecorder=e,t.awakeRecorder.start()}),o.a.start().then(function(a){t.recTimer=setInterval(function(){var n=o.a.getVoiceSize(a);if(20===e.length){var i=Math.max.apply(Math,e),s=Math.min.apply(Math,e),c=Object(v.a)(e);Object(v.c)(i,s)<4e3?(clearInterval(t.recTimer),t.awakeRecorder.stop(),t.startAwaken()):n<c&&(t.executiveOrder("awaken"),clearInterval(t.recTimer),t.awakeRecorder.stop(),t.startAwaken())}else e.length<20&&e.push(n)},100)})},stopAwake:function(){clearInterval(this.recTimer),this.awakeRecorder.stop(),this.awakeRecorder=""},executiveOrder:function(t){var e=this,a=this;if("awaken"===t){var o=new FormData;o.append("audioData",a.awakeRecorder.getBlob()),Object(n.a)(o).then(function(t){!0===t.data.success&&t.data.data.words.substr(0,t.data.data.words.length-1).indexOf("你好")>-1&&(e.awakenShow=!0,e.stopAwake(),e.animate=!0,e.micRecord())}).catch(function(t){})}else if("sound"===t){var i=new FormData;i.append("audioData",a.soundRecoeder.getBlob()),Object(n.a)(i).then(function(t){if(!0===t.data.success)t.data.data.menu&&(window.sessionStorage.setItem("state",!0),a.awakenShow=!1,a.$router.push({name:t.data.data.menu})),a.animate=!1,a.flag=!1;else{a.animate=!1,a.recordInfo="识别失败，请点击中间麦克风按钮后再说一次"}}).catch(function(t){a.recordInfo="识别失败，请点击中间麦克风按钮后再说一次",console.log(t)})}},micRecord:function(){var t=this,e=[];t.recordInfo="录音中...",HZRecorder.get(function(e){t.soundRecoeder=e,t.soundRecoeder.start()}),o.a.start().then(function(a){t.soundTimer=setInterval(function(){var n=o.a.getVoiceSize(a);if(20===e.length){var i=Math.max.apply(Math,e),s=Math.min.apply(Math,e),c=Object(v.a)(e);Object(v.c)(i,s)<2e3?(clearInterval(t.soundTimer),t.soundRecoeder.stop(),t.animate=!1,t.recordInfo="继续录音请点击中间麦克风"):n<c?t.flag=!0:n>c&&(t.flag=!1)}else e.length<20&&e.push(n)},100),t.restartState=!0})}},watch:{flag:function(t){var e=this;!0===t?this.Timer=setTimeout(function(){clearInterval(e.soundTimer),e.soundRecoeder.stop(),e.recordInfo="发送中...",e.animate=!1,e.executiveOrder("sound")},1e3):clearInterval(this.Timer)}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"awaken-page"},[a("transition",{attrs:{"enter-active-class":"zoomIn","leave-active-class":"zoomOut"}},[t.awakenShow?a("div",{staticClass:"down"},[t.awakenShow?a("p",{staticStyle:{width:"180px",float:"left","text-align":"center","line-height":"20px"},domProps:{textContent:t._s(t.recordInfo)}}):t._e(),t._v(" "),a("div",{staticClass:"dot"}),t._v(" "),t.animate?a("div",{staticClass:"pulse"}):t._e(),t._v(" "),t.animate?a("div",{staticClass:"pulse1"}):t._e()]):t._e()])],1)},staticRenderFns:[]};a("VU/8")(w,g,!1,function(t){a("BQu8")},"data-v-475abb88",null).exports;var S={data:function(){return{micShowFlag:!1,micAnimateShowFlag:!1,checkSpeakStopFlag:!1,recordTimer:null,apiTimer:null,soundTimer:null,recordInfo:"",awakeRecorder:"",soundRecoeder:""}},mounted:function(){this.awakenStart()},methods:{awakenStart:function(){this.awakenVoiceFn()},awakenVoiceFn:function(){var t=this,e=[];HZRecorder.get(function(e){t.awakeRecorder=e,t.awakeRecorder.start()}),o.a.start().then(function(a){t.recordTimer=setInterval(function(){var n=o.a.getVoiceSize(a);if(20===e.length){var i=Math.max.apply(Math,e),s=Math.min.apply(Math,e),c=Object(v.a)(e);Object(v.c)(i,s)<4e3?(clearInterval(t.recordTimer),t.awakeRecorder.stop(),t.awakenVoiceFn()):n<c&&(t.resolveVoice("awaken"),clearInterval(t.recordTimer),t.awakeRecorder.stop(),t.awakenVoiceFn())}else e.length<20&&e.push(n)},100)})},stopAwake:function(){clearInterval(this.recordTimer),this.awakeRecorder.stop(),this.awakeRecorder=""},resolveVoice:function(t){switch(t){case"awaken":this.openAwaken();break;case"record":this.sendRecord()}},openAwaken:function(){var t=this,e=new FormData;e.append("audioData",this.awakeRecorder.getBlob()),Object(n.a)(e).then(function(e){!0===e.data.success&&e.data.data.words.substr(0,e.data.data.words.length-1).indexOf("你好")>-1&&(t.micShowFlag=!0,t.micAnimateShowFlag=!0,t.stopAwake(),t.acceptRecord())}).catch(function(t){})},sendRecord:function(){var t=this,e=new FormData;e.append("audioData",t.soundRecoeder.getBlob()),Object(n.a)(e).then(function(e){if(!0===e.data.success)e.data.data.menu?(window.sessionStorage.setItem("state",!0),t.micShowFlag=!1,t.$router.push({name:e.data.data.menu})):(t.awakenStart(),t.micShowFlag=!0,t.recordInfo="可重新唤醒,继续使用"),t.checkSpeakStopFlag=!1;else{t.micAnimateShowFlag=!1,t.recordInfo="可重新唤醒,继续使用",t.awakenStart(),t.micShowFlag=!0}}).catch(function(e){t.recordInfo="可重新唤醒,继续使用",t.awakenStart(),t.micShowFlag=!0,console.log(e)})},acceptRecord:function(){var t=this,e=[];t.recordInfo="录音中...",HZRecorder.get(function(e){t.soundRecoeder=e,t.soundRecoeder.start()}),o.a.start().then(function(a){t.soundTimer=setInterval(function(){var n=o.a.getVoiceSize(a);if(20===e.length){var i=Math.max.apply(Math,e),s=Math.min.apply(Math,e),c=Object(v.a)(e);Object(v.c)(i,s)<2e3?(clearInterval(t.soundTimer),t.soundRecoeder.stop(),t.micAnimateShowFlag=!1,t.recordInfo="可重新唤醒,继续使用",t.awakenStart()):n<c?t.checkSpeakStopFlag=!0:n>c&&(t.checkSpeakStopFlag=!1)}else e.length<20&&e.push(n)},100),t.restartState=!0})}},watch:{checkSpeakStopFlag:function(t){var e=this;!0===t?this.apiTimer=setTimeout(function(){clearInterval(e.soundTimer),e.soundRecoeder.stop(),e.recordInfo="发送中...",e.micAnimateShowFlag=!1,e.resolveVoice("record")},1e3):clearInterval(this.apiTimer)}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"awaken-two"},[a("transition",{attrs:{"enter-active-class":"zoomIn","leave-active-class":"zoomOut"}},[t.micShowFlag?a("div",{staticClass:"down"},[t.micShowFlag?a("p",{staticStyle:{width:"180px",float:"left","text-align":"center","line-height":"20px"},domProps:{textContent:t._s(t.recordInfo)}}):t._e(),t._v(" "),a("div",{staticClass:"dot"}),t._v(" "),t.micAnimateShowFlag?a("div",{staticClass:"pulse"}):t._e(),t._v(" "),t.micAnimateShowFlag?a("div",{staticClass:"pulse1"}):t._e()]):t._e()])],1)},staticRenderFns:[]};a("VU/8")(S,k,!1,function(t){a("awb9")},"data-v-581a7228",null).exports;var _={data:function(){return{tabsList:["百度语音","科大讯飞语音","声音测试"],tabActive:0}},computed:{componentId:function(){var t="";switch(this.tabActive){case 0:t=c;break;case 1:t=d;break;case 2:t=f}return t}},mounted:function(){},methods:{clickTabs:function(t){this.tabActive=t},reload:function(t){this.$emit("rootReload",t)}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"voice-main-view"},[a("ul",{staticClass:"page-tabs"},t._l(t.tabsList,function(e,o){return a("li",{key:o,class:{"lis-active":t.tabActive===o},on:{click:function(e){t.clickTabs(o)}}},[t._v(t._s(e))])})),t._v(" "),a("div",{staticClass:"page-mains"},[a("transition",{attrs:{"enter-active-class":"zoomIn","leave-active-class":"zoomOutRight"}},[a(t.componentId,{tag:"component",on:{reload:t.reload}})],1)],1)])},staticRenderFns:[]};var C=a("VU/8")(_,b,!1,function(t){a("zkU6")},"data-v-1ad48c10",null);e.default=C.exports},NCHO:function(t,e){},awb9:function(t,e){},"k/uC":function(t,e){},"mq+9":function(t,e){},zkU6:function(t,e){}});
//# sourceMappingURL=0.3f0a3a1dac4279c20c6c.js.map