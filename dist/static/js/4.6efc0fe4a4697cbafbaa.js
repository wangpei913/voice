webpackJsonp([4],{"+3dY":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("jFbs"),i={data:function(){return{loading:!1,options:[],value:"",provinces:{"北京":"beijing","天津":"tianjin","上海":"shanghai","重庆":"chongqing","河北":"hebei","山西":"shanxi","辽宁":"liaoning","吉林":"jilin","黑龙江":"heilongjiang","江苏":"jiangsu","浙江":"zhejiang","安徽":"anhui","福建":"fujian","江西":"jiangxi","山东":"shandong","河南":"henan","湖北":"hubei","湖南":"hunan","广东":"guangdong","海南":"hainan","四川":"sichuan","贵州":"guizhou","云南":"yunnan","陕西":"shanxi1","甘肃":"gansu","青海":"qinghai","新疆":"xinjiang","广西":"guangxi","内蒙古":"neimenggu","宁夏":"ningxia","西藏":"xizang","香港":"xianggang","澳门":"aomen"},option:{backgroundColor:"#404a59",title:{text:"中国地图",subtext:"省市区三级下钻",left:"center",textStyle:{color:"#fff",fontSize:16,fontWeight:"normal",fontFamily:"Microsoft YaHei"}},tooltip:{trigger:"item",formatter:"{b}"},toolbox:{show:!0,orient:"vertical",left:"right",top:"center",iconStyle:{normal:{color:"#fff"}}},animationDuration:1e3,animationEasing:"cubicOut",animationDurationUpdate:1e3},special:["北京","天津","上海","重庆","香港","澳门"],mapdata:[]}},mounted:function(){var e=this;this.$nextTick(function(){e.getCityOptions()})},methods:{getCityOptions:function(){for(var e in this.options=[],this.provinces)this.options.push({label:e,value:this.provinces[e]});this.value=this.options[0].value,this.getProvince(this.value)},getProvince:function(e){var t=this;this.loading=!0,Object(n.a)(e).then(function(a){if(200===a.status){t.loading=!1;for(var n=[],i=0;i<a.data.features.length;i++)n.push({name:a.data.features[i].properties.name});t.mapdata=n,t.echarts.registerMap(e,a.data),t.renderMap(e,n)}else t.$message.error("错了哦，该地区不存在!")}).catch(function(e){console.log(e),t.loading=!1})},renderMap:function(e,t){var a=this.echarts.init(document.getElementById("echartsMain"));this.option.title.subtext=this.formatCityName(e),this.option.series=[{name:e,type:"map",mapType:e,roam:!1,nameMap:{china:"中国"},label:{normal:{show:!0,textStyle:{color:"#fff",fontSize:13}},emphasis:{show:!0,textStyle:{color:"#fff",fontSize:13}}},itemStyle:{normal:{areaColor:"#323c48",borderColor:"rgba(147, 235, 248, 1)"},emphasis:{areaColor:"skyblue"}},data:t}],window.onresize=a.resize,a.setOption(this.option);var i=this;a.on("click",function(e){i.formatCityName(e.seriesName)in i.provinces?i.special.indexOf(i.value)>=0?i.renderMap(i.value,i.mapdata):(i.loading=!0,Object(n.b)(e.name).then(function(t){if(200===t.status){i.loading=!1,i.echarts.registerMap(e.name,t.data);for(var a=[],n=0;n<t.data.features.length;n++)a.push({name:t.data.features[n].properties.name});i.renderMap(e.name,a)}}).catch(function(e){console.log(e),i.loading=!1})):i.getProvince(i.value)})},formatCityName:function(e){var t=null;for(var a in this.provinces)e===this.provinces[a]&&(t=a);return t}},watch:{value:function(e,t){t&&e!==t&&this.getProvince(e)}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"echarts-views"},[a("div",{staticClass:"echarts-header"},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"echarts-main",attrs:{id:"echartsMain"}})])},staticRenderFns:[]};var r=a("VU/8")(i,o,!1,function(e){a("4box")},"data-v-1b24a6d0",null);t.default=r.exports},"4box":function(e,t){}});
//# sourceMappingURL=4.6efc0fe4a4697cbafbaa.js.map